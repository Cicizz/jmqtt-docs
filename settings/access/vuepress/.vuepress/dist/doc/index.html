<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Jmqtt | jmqtt</title>
    <meta name="description" content="最强大的mqtt协议">
    
    
    <link rel="preload" href="/assets/css/0.styles.7c8cd86b.css" as="style"><link rel="preload" href="/assets/js/app.56c0ef31.js" as="script"><link rel="preload" href="/assets/js/4.c9125e1d.js" as="script"><link rel="prefetch" href="/assets/js/2.5966da9f.js"><link rel="prefetch" href="/assets/js/3.3100141e.js"><link rel="prefetch" href="/assets/js/5.32efbd0a.js"><link rel="prefetch" href="/assets/js/6.2c0db21b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7c8cd86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/jmqtt.png" alt="jmqtt" class="logo"> <span class="site-name can-hide">jmqtt</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">特别赞助</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">请联系管理人员</a></li></ul></div></div><div class="nav-item"><a href="/guide/" class="nav-link">收费服务</a></div><div class="nav-item"><a href="/doc/" aria-current="page" class="nav-link router-link-exact-active router-link-active">技术文档</a></div><div class="nav-item"><a href="https://github.com/Cicizz/jmqtt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/chinese.html" class="nav-link">Chinese</a></li><li class="dropdown-item"><!----> <a href="/language/japanese.html" class="nav-link">English</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">特别赞助</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">请联系管理人员</a></li></ul></div></div><div class="nav-item"><a href="/guide/" class="nav-link">收费服务</a></div><div class="nav-item"><a href="/doc/" aria-current="page" class="nav-link router-link-exact-active router-link-active">技术文档</a></div><div class="nav-item"><a href="https://github.com/Cicizz/jmqtt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/language/chinese.html" class="nav-link">Chinese</a></li><li class="dropdown-item"><!----> <a href="/language/japanese.html" class="nav-link">English</a></li></ul></div></div> <!----></nav>  <!----> </div> <div class="page"> <div class="content"><p><strong>English</strong> | <a href="/doc/README_CN.html">中文</a></p> <h2 id="jmqtt"><a href="#jmqtt" class="header-anchor">#</a> Jmqtt</h2> <p><strong>Note</strong>：The <code>master</code> branch may be unstable during development, causing the packaged files to not run or even package. Please use the <a href="https://github.com/Cicizz/jmqtt/releases" target="_blank" rel="noopener noreferrer">releases<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>  version.</p> <p><img src="jmqtt.png" alt="Jmqtt logo"></p> <h2 id="features"><a href="#features" class="header-anchor">#</a> Features</h2> <ul><li>Developed in Java and Netty, it supports plug-in mode with high performance and high scalability.</li> <li>Support mqtt protocol qos0, qos1, qos2 message quality service.</li> <li>Supports cleansession, retain, will and other message services in the mqtt protocol.</li> <li>Full support for mqtt Topic match filtering.</li> <li>Support websocket protocol.</li> <li>Support RocksDB for data local storage to make data highly reliable.</li></ul> <h2 id="quick-start"><a href="#quick-start" class="header-anchor">#</a> Quick Start</h2> <h3 id="online-testing"><a href="#online-testing" class="header-anchor">#</a> Online testing</h3> <p>Online test environment：<code>120.24.69.113</code>，TCP port ：<code>1883</code>；Websocket port：<code>1884</code>.</p> <h3 id="running-locally"><a href="#running-locally" class="header-anchor">#</a> Running locally</h3> <ol><li>Download the <a href="https://github.com/Cicizz/jmqtt/releases" target="_blank" rel="noopener noreferrer">release<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> version or <code>clone</code> this project.</li> <li>Execute in the root directory：<code>mvn -Ppackage-all -DskipTests clean install -U</code></li> <li>(there's a bug in v1.1.0 script, so we have to handle it manually) add a system environment variable, key=<code>JMQTT_HOME</code>, value=<code>YOUR_PATH_TO_JMQTT\jmqtt-distribution\target\jmqtt</code>. The purpose of the configuration is to specify the address where the jmqtt configuration file and log configuration file are located.</li> <li>Run the jmqttstart script directly in the <code>jmqtt-distrubution/target/jmqtt/bin</code> directory.</li></ol> <h3 id="debugging-with-ide"><a href="#debugging-with-ide" class="header-anchor">#</a> Debugging with IDE</h3> <p>Take IDEA for example:</p> <ol><li>Download the <a href="https://github.com/Cicizz/jmqtt/releases" target="_blank" rel="noopener noreferrer">release<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> version or <code>clone</code> this project.</li> <li>Open it with IDEA, and choose &quot;Add as a maven project&quot;</li> <li>Local launch: find the BrokerStartup class and configure the startup environment variable: The key is <code>JMQTT_HOME</code>, and the value is the absolute address where <code>jmqtt-distribution</code> is located. The purpose of the configuration is to specify the address where the jmqtt configuration file and log configuration file are located.</li></ol> <h3 id="running-with-docker"><a href="#running-with-docker" class="header-anchor">#</a> Running with Docker</h3> <ol><li>Clone this project</li> <li>Run <code>docker build -t jmqtt .</code></li> <li>Run <code>docker run -d -p 1883:1883 -p 1884:1884 --name jmqtt-broker jmqtt</code> <ol><li>If you would like to add your custom <code>conf</code> folder (default is <code>jmqtt-distribution/conf</code>), add <code>-v &lt;path_to_your_conf&gt;:/var/jmqtt-data/conf</code> to bind a volume. The <code>jmqtt.properties</code> file contained in your config folder is being used in <code>BrokerStartup</code>.</li></ol></li></ol> <h2 id="architecture-design"><a href="#architecture-design" class="header-anchor">#</a> Architecture Design</h2> <p><img src="jmqtt%20design.jpg" alt="架构图"></p> <h2 id="module-introduction-and-local-environment"><a href="#module-introduction-and-local-environment" class="header-anchor">#</a> Module introduction and local environment</h2> <ul><li><strong>broker</strong>：Mqtt protocol layer. logical processing. BrokerStartup is the startup class, BrokerController is the initialization class, initialize all the necessary environment, where the plugin configuration of acl, store must also be initialized here.</li> <li><strong>common</strong>：Common layer. Used to store tool classes, bean classes, etc.</li> <li><strong>remoting</strong>：Communication layer. Used for connection management, protocol analysis, heartbeat, etc.</li> <li><strong>distribution</strong>：Configuration module. Used for configuration files, start and stop commands, etc.</li> <li><strong>example</strong>：Client example. Only java and websocket examples are supported currently.</li> <li><strong>manage</strong>：Management module, mainly involved in dynamic configuration and system monitoring and other functions</li> <li><strong>store</strong>：Storage module. Provides several interfaces for mqtt protocol data, supports memory-based and Rocksdb local storage.</li></ul> <h2 id="roadmap"><a href="#roadmap" class="header-anchor">#</a> RoadMap</h2> <h3 id="version-3-x-developing"><a href="#version-3-x-developing" class="header-anchor">#</a> Version 3.x(developing......)</h3> <ol><li>Support simple operation and maintenance functions.</li> <li>Support RocketMQ Bridge.</li> <li>Support Kafka Bridge.</li> <li>Support $SYS Topic Monitoring.</li></ol> <h3 id="version-2-x"><a href="#version-2-x" class="header-anchor">#</a> Version 2.x</h3> <ol><li>Support clustering, multi-host scale-out, high availability.</li> <li>Support SSL/TLS.</li> <li>Support safety certificate.</li></ol> <h3 id="version-1-1-0"><a href="#version-1-1-0" class="header-anchor">#</a> Version 1.1.0</h3> <ol><li>Add connect, publish, subsribe permission authentication interface and make it pluggable.</li> <li>Remove Redis storage.</li> <li>Optimize Rocksdb local storage.</li> <li>Fix bugs in the subscription module.</li> <li>Fix bugs that offline messages can't receive.</li> <li>Fix bugs that occasionally do not receive retain messages.</li> <li>Add storeLog, remotingLog messageTraceLog, clientTraceLog.</li></ol> <h3 id="version-1-0-0"><a href="#version-1-0-0" class="header-anchor">#</a> Version 1.0.0</h3> <ol><li>Full support for the mqtt protocol.</li> <li>Support Websocket protocol.</li> <li>Support for data local persistence</li></ol></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.56c0ef31.js" defer></script><script src="/assets/js/4.c9125e1d.js" defer></script>
  </body>
</html>
